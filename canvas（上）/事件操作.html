<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>事件操作</title>
	    <style type="text/css">
            body{
            	background-color: #000;
            }
            #drawing{
            	background-color: #fff;
            }
            #img1{
                  background-color: #fff;
            }
	    </style>
	</head>
	<body>
		<canvas id="drawing" width="400" height="400"></canvas>
            <img id="img1" src="" />


		<script type="text/javascript">
            window.onload = function(){
            	var drawing = document.getElementById("drawing");
            	var context = drawing.getContext('2d');

                  var c1 = new Shape(100,100,50);
                  var c2 = new Shape(200,200,50);

                  drawing.onmousedown = function(event){
                      var event = event || window.event;
                      var point = {
                        x: event.clientX - drawing.offsetLeft,
                        y: event.clientY - drawing.offsetTop
                      };
                      c1.reDraw(point);
                      c2.reDraw(point);


                  };

                  c1.click = function(){
                        alert(123);
                  };
                  c2.click = function(){
                        alert(456);
                  };

                  function Shape(x,y,r){
                        this.x = x;
                        this.y = y;
                        this.r = r;

                        context.beginPath();
                        context.arc(this.x,this.y,this.r,0,2*Math.PI,false);
                        context.closePath();
                        context.fill();
                  }
                  Shape.prototype.reDraw = function(point){
                        context.beginPath();
                        context.arc(this.x,this.y,this.r,0,2*Math.PI,false);
                        context.closePath();
                        context.fill();

                        if(context.isPointInPath(point.x,point.y)){
                              this.click();
                        }
                  };
                  
            };
		</script>
	</body>
</html>
